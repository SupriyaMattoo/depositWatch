% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main.R
\name{detect_anomalies.deposit_dataset}
\alias{detect_anomalies.deposit_dataset}
\title{Detect anomalies in a deposit dataset}
\usage{
\method{detect_anomalies}{deposit_dataset}(obj)
}
\arguments{
\item{obj}{An object of class \code{deposit_dataset}.}
}
\value{
The same \code{deposit_dataset} object with a \code{results}
data frame containing the number of anomalies per customer.
}
\description{
Computes rolling Z-scores and flags anomalous deposits for each customer.
Requires a \code{deposit_dataset} object created by \code{new_deposit_dataset()}.
}
\examples{
# Create a deposit dataset
transactions <- data.frame(
  customer_id = rep(c("C1", "C2"), each = 5),
  date = rep(seq.Date(Sys.Date() - 4, Sys.Date(), by = "day"), 2),
  amount = c(100, 105, 102, 300, 250, 95, 98, 97, 99, 101)
)

ds <- new_deposit_dataset(transactions, window_size = 3, z_thresh = 2)

# Detect anomalies (returns a new object)
ds1 <- detect_anomalies(ds)

# Print anomaly summary
summary(ds1)
}
