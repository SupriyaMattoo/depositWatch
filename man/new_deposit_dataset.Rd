% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/main.R
\name{new_deposit_dataset}
\alias{new_deposit_dataset}
\title{Create a new deposit dataset object}
\usage{
new_deposit_dataset(
  transactions,
  window_size = 30,
  z_thresh = 3,
  freq_thresh = 3
)
}
\arguments{
\item{transactions}{A data frame of transaction records, with required columns:
\code{customer_id}, \code{date}, and \code{amount}.}

\item{window_size}{Integer. Rolling window size for calculating moving statistics
Default is 30, representing roughly a one-month period to track changes in
transaction behavior. You can adjust this to a longer period (e.g., 60 for two months,
90 for three months) depending on your use case.}

\item{z_thresh}{Numeric. Z-score threshold for identifying anomalous transaction
amounts (default = 3). In a normal distribution, a Z-score of 2 captures about 95\%
of values, while a Z-score of 3 captures about 99\% of values. Lower values make
anomaly detection more sensitive, higher values make it stricter.}

\item{freq_thresh}{Numeric. Z-score threshold for identifying anomalous transaction
frequencies (default = 3). Same interpretation as \code{z_thresh}.}
}
\value{
An object of class \code{deposit_dataset}, containing:
\itemize{
\item \code{transactions}: The input data frame.
\item \code{window_size}: Rolling window size.
\item \code{z_thresh}: Amount anomaly threshold.
\item \code{freq_thresh}: Frequency anomaly threshold.
\item \code{results}: Placeholder for results (initially \code{NULL}).
}
}
\description{
This function constructs an object of class \code{deposit_dataset}, which stores
transaction data and parameters for anomaly detection. The object can be passed
to other functions in the package (e.g., \code{detect_anomalies}) to run analyses.
}
\examples{
transactions <- data.frame(
  customer_id = rep(c("C1", "C2"), each = 5),
  date = rep(seq.Date(Sys.Date() - 4, Sys.Date(), by = "day"), 2),
  amount = c(100, 105, 102, 300, 250, 95, 98, 97, 99, 101)
)
ds <- new_deposit_dataset(transactions, window_size = 3, z_thresh = 2, freq_thresh = 2)

}
